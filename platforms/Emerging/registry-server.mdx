---
title: 'Registry Server'
icon: 'server'
description: 'RESTful API server for integrations with registries'
---

<Tip>
    The IXO Registry Server provides an API interface for registry systems, to manage Mitigation Activity reporting for Carbon Credits and ITMOs.
</Tip>

## Quick Start

```bash
# Install dependencies
npm install

# Start development server
npm run dev

# Run tests
npm test
```

## Environment Setup

Create a `.env` file in your project root:

```bash
cp .env.example .env
```

| Variable | Description | Default |
| --- | --- | --- |
| `PORT` | Server port | `8080` |
| `NODE_ENV` | Environment mode | `development` |
| `API_URL` | Base API URL | `https://api.ixo.world` |
| `API_VERSION` | API version path | `/emerging-platform` |
| `ALLOWED_ORIGINS` | CORS origins | `*` |
| `LOG_LEVEL` | Logging level | `info` |

## API Endpoints

## Logging

<ResponseField name="GET /credits/cancelled" type="endpoint">
  View invalidated credits
</ResponseField>

<ResponseField name="GET /credits/issued" type="endpoint">
  Get issued credits by project and period
  
  <Expandable title="Parameters">
    - `project_id`: Project identifier
    - `time_period`: Reporting period (e.g., "2024-Q1")
  </Expandable>
</ResponseField>

<ResponseField name="GET /credits/retired" type="endpoint">
  View retired credits
</ResponseField>

- `GET /devices/status` - Real-time device status
- `GET /households/stats` - Household statistics
- `GET /households/stove-stacking` - Fuel usage patterns
- `GET /claims/household-onboarding` - Household onboarding records

### Device & Household Monitoring

<ResponseField name="GET /devices/status" type="endpoint">
  Real-time device status
</ResponseField>

<ResponseField name="GET /households/stats" type="endpoint">
  Household statistics
</ResponseField>

<ResponseField name="GET /households/stove-stacking" type="endpoint">
  Fuel usage patterns
</ResponseField>

### Response Format

<CodeGroup>
```json Success Response
{
  "code": 200,
  "payload": {
    // Response data
  }
}
```

```json Error Response
{
  "code": 400,
  "error": {
    "message": "Error description"
  }
}
```
</CodeGroup>

## Project Structure

```
dmrv-registry-server/
├── api/
│   └── openapi.yaml          # OpenAPI specification
├── services/                 # Service implementations
├── controllers/             # Route controllers
├── tests/                   # Test suites
├── config.js               # Configuration
└── index.js                # Entry point
```

## Testing

<CodeGroup>
```bash npm
npm test
npm run test:coverage
```

```bash yarn
yarn test
yarn test:coverage
```

```bash pnpm
pnpm test
pnpm test:coverage
```
</CodeGroup>

Coverage requirements:
- Minimum 80% for branches, functions, lines, and statements

## Error Handling

The API uses standard HTTP status codes:

| Code | Description |
| --- | --- |
| 400 | Invalid request parameters |
| 401 | Authentication required |
| 403 | Insufficient permissions |
| 404 | Resource not found |
| 422 | Validation error |
| 500 | Internal server error |

## Requirements

- Node.js ≥ 18.0.0
- npm, yarn, or pnpm package manager
- Available port (default: 8080)

## Additional Resources

<CardGroup>
<Card title="OpenAPI Specification" icon="file-code" href="/api/openapi.yaml">
  View the complete API specification
</Card>

<Card title="Testing Guide" icon="vial" href="/docs/testing">
  Learn about testing practices and requirements
</Card>

<Card title="Contributing" icon="code-pull-request" href="/docs/contributing">
  Guidelines for contributing to the project
</Card>
</CardGroup>